<!DOCTYPE html>
<html lang="en-us">
	<head>
		<meta name="generator" content="ussg" />
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>${title} - ${sitetitle}</title>
		<link rel="icon" type="image/x-icon" href="/static/images/favicon/favicon.ico">
  <link rel="alternate" type="application/atom+xml" href="https://hitarththummar.xyz/atom.xml" title="Hitarth Thummar's ATOM Feed" />
		<meta name="description" content="${description}">
		<link rel="stylesheet" type="text/css" href="/static/css/sp.css"/>
	</head>
	<body>
		<main>
		<header>
			<div class="headerwrapper">
			<h1 class="headername embossed"><a href="/">${sitename}</a></h1>
			<nav class="navmenu">
				${navbar}
			</nav>
			</div>
		</header>
		<div class="wrapper">
			<div class="cmntcard card">

<div id='solution' class='commentslist'></div>
<form name="comments" id='formcomments' method='POST' action='/cgi-bin/addcomment.cgi'>
	<div><h3>Post a Comment</h3></div>
	<div>
		<input type="text" class='comment-field' name="alias" placeholder="Your Alias"  id="alias" required />
		<input type="hidden" id='texturl'  name="url"/>
		<input type="hidden" id='textdate' name="time"/>
	</div>
	<div>
		<textarea maxlength=500 name="body" placeholder="Enter your comment here (Max 500 words)"  id="comment" required ></textarea>
	</div><div>    
		<button type="button" onclick="tesubmit()"  id="comment-button">Comment</button>
	</div>
</form>
			</div>
			<div class="maincard card">

			<h3 id='articletitle'>${title}</h3>
			<small id="date">${date}</small>
			${mdtext}
<script src="/static/comments.js"></script>
<script>
	function tesubmit(){
		document.getElementById('texturl').setAttribute('value',window.location.pathname);
		document.getElementById('texturl').value = window.location.pathname;
		document.getElementById('textdate').setAttribute('value',new Date().toString());
		document.getElementById('formcomments').submit();
	}

	function displaycomments(){
		var url = window.location.pathname;
		var commentslist = document.getElementById("solution");
			const current_comments = all_comments.filter(c=>c.url[0]===url)
			if(current_comments.length>0){
					commentslist.insertAdjacentHTML("beforeend","<h3>Comments ðŸ‘‡</h3>");
					current_comments.forEach(value => {
									var txt = `
										   <div>
							<span style="font-family:monospace; font-weight:bold;">${value.alias[0]}: </span>
							${value.body[0]}
										   </div>`;
									commentslist.insertAdjacentHTML("beforeend",txt);
						})
				}
		}
window.onload = displaycomments();
</script>
			
		</div>			
		</div>			
</main>
<footer>
	${footer} | Proudly hosted on <a href="https://tildevarsh.in">~tildevarsh</a><br> <a href="/atom.xml">Subscribe via Atom</a>
</footer>
</body>
</html>
